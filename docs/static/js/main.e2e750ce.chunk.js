(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{234:function(e,t,a){e.exports=a(439)},239:function(e,t,a){},240:function(e,t,a){},439:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(16),c=a.n(l),o=(a(239),a(240),a(25)),i=a(52),u=a(481),s=a(17),m=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){setTimeout(function(){return r("uid")},800)},[]),{idUser:a}},d=Object(n.createContext)({}),f=a(482),E=a(466),v=a(484),b=a(468),p=a(467),h=a(187),g=a.n(h),O=function(e){var t=e.url,a="https://".concat(window.location.host).concat(t);return r.a.createElement(v.a,{fullScreen:!0,typeof:"","aria-labelledby":"form-dialog-title",open:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{id:"simple-dialog-title"},a),r.a.createElement(p.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(g.a,{size:300,value:a})),r.a.createElement(b.a,null,r.a.createElement(o.b,{className:"MuiButtonBase-root MuiButton-root MuiButton-text",to:t},"Close"))))},x=a(473),y=a(475),j=a(469),S=a(470),w=a(472),k=a(202),T=a(474),C=a(471),N=a(441),I=a(487),R=Object(N.a)(function(e){return Object(I.a)({iconStyle:{color:"#efefef"}})}),A=function e(){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1];return l||c(!0),r.a.createElement(r.a.Fragment,null,r.a.createElement(e.Head,null),r.a.createElement(e.Body,null))};A.Head=function(){var e=R();return r.a.createElement(j.a,{position:"fixed",color:"inherit"},r.a.createElement(S.a,null,r.a.createElement(C.a,{style:{marginRight:"4px"},component:o.b,to:"/"},r.a.createElement(w.a,{className:e.iconStyle},"keyboard_backspace")),r.a.createElement(x.a,null,r.a.createElement(w.a,null,"face")),r.a.createElement(k.a,{style:{flexGrow:1,color:"#efefef",paddingLeft:"4px"},variant:"subtitle2"},"user"),r.a.createElement(T.a,{color:"default","aria-label":"Open drawer",edge:"end",to:"/qr-code/url/".concat(encodeURIComponent("/party/id")),component:o.b},r.a.createElement(w.a,{className:e.iconStyle},"share"))))},A.Body=function(){return r.a.createElement("main",null,r.a.createElement(y.a,{maxWidth:"lg"},r.a.createElement("section",null)))};var H,B=A,D=a(483),F=a(476),G=a(46),_=a(28),U=a(128);!function(e){e[e.BREAKTHROUGH=0]="BREAKTHROUGH",e[e.WAYSTAGE=1]="WAYSTAGE",e[e.THRESHOLD=2]="THRESHOLD",e[e.VANTAGE=3]="VANTAGE",e[e.EFFECTIVE=4]="EFFECTIVE",e[e.MASTERY=5]="MASTERY"}(H||(H={}));var M=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)({}),o=Object(s.a)(c,2),i=o[0],u=o[1],m=function(){return u(Object.create({})),Promise.resolve(!0)},d=function(){var t=JSON.parse(localStorage.getItem("exams")||"[]");t.sort(function(e,t){return t.date-e.date});for(var a={},n=function(n){var r=t[n];e.forEach(function(e){var t=e.id;a[t]=a[t]||{},r.tests&&r.tests.filter(function(e){return e.idSkill===t}).forEach(function(e){a[t][e.idTool]=e.level})}),e.forEach(function(e){var t=e.id,n=e.tools,l=Math.trunc(function(e,t){var a=100/e,n=Object.keys(H).length/2;return Object.keys(t).reduce(function(e,r){var l=t[r]+1;return a/n*l+e},0)}(n.length,a[t]));r.scores&&(r.scores[t]=l)})},r=t.length-1;r>-1;r--)n(r);return l(Object(_.a)(t)),Promise.resolve(!0)};return Object(n.useEffect)(function(){d()},[]),{includeExams:function(e){var t=JSON.stringify([].concat(Object(_.a)(r),Object(_.a)(e)));return localStorage.setItem("exams",t),d().then(function(){return m(),Promise.resolve(!0)})},exams:r,summarize:function(t){return e.map(function(e){return{id:e.id,subject:e.name,fullMark:100}}).map(function(e){var a=t.reduce(function(t,a){var n=a.id,r=a.scores;return t[n]=0,r&&r[e.id]&&(t[n]=r[e.id]),t},{});return Object(U.a)({},a,e)})},push:function(){var e=[],t=r.findIndex(function(e){var t=e.id;return i.id===t});i.id&&t>-1?e[t]=i:(i.id="".concat((new Date).getTime()),e=[].concat(Object(_.a)(r),[i]));var a=JSON.stringify(e);return localStorage.setItem("exams",a),d().then(function(){return m(),Promise.resolve(!0)})},reset:m,remove:function(e){var t=r.findIndex(function(t){var a=t.id;return e===a});return r.splice(t,1),localStorage.setItem("exams",JSON.stringify(r)),l(Object(_.a)(r)),Promise.resolve(!0)},getSnapshot:function(t,a){for(var n={},r=function(r){var l=a[r];if(e.forEach(function(e){var t=e.id;n[t]=n[t]||{},l.tests&&l.tests.filter(function(e){return e.idSkill===t}).forEach(function(e){n[t][e.idTool]=e.level})}),t===l.id)return"break"},l=a.length-1;l>-1&&"break"!==r(l);l--);return n},stage:i,commit:function(e){return u(function(t){var a=(new Date).getTime();return t.date=t.date||a,t.scores=t.scores||{},Object(U.a)({},t,e)}),Promise.resolve(!0)}}},P=Object(n.createContext)({}),W=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){fetch("data/skills.json").then(function(e){return e.json()}).then(function(e){return r(Object(_.a)(e))})},[]),{skills:a}},z=Object(n.createContext)({}),J=Object(N.a)(function(e){return Object(I.a)({iconStyle:{color:"#efefef"}})}),K=function e(){var t=Object(n.useContext)(z).skills;return r.a.createElement(P.Provider,{value:M(t)},r.a.createElement(e.Head,null),r.a.createElement(e.Body,null))};K.Head=function(){var e=J(),t=Object(n.useContext)(P),a=t.includeExams,l=t.exams;return r.a.createElement(j.a,{position:"fixed",color:"inherit"},r.a.createElement(S.a,null,r.a.createElement(x.a,null,r.a.createElement(w.a,null,"insert_chart")),r.a.createElement(k.a,{style:{flexGrow:1,color:"#efefef",paddingLeft:"4px"},variant:"subtitle2"},"My Exam Analysis"),r.a.createElement("input",{accept:"json/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(e){var t=e.target;2===t.readyState&&(t.error?alert("Error while reading file"):a(JSON.parse(t.result)).then(function(e){return console.log("imported with success!")}))},n.readAsText(t.files[0])}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(T.a,{color:"default","aria-label":"Open drawer",edge:"end",component:"span"},r.a.createElement(w.a,{className:e.iconStyle},"cloud_upload"))),r.a.createElement(T.a,{color:"default","aria-label":"Open drawer",edge:"end",download:"".concat((new Date).getTime(),"-.exam.json"),href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(l))),component:"a"},r.a.createElement(w.a,{className:e.iconStyle},"save")),r.a.createElement(T.a,{color:"default","aria-label":"Open drawer",edge:"end",to:"/qr-code/url/".concat(encodeURIComponent("/exam-analysis")),component:o.b},r.a.createElement(w.a,{className:e.iconStyle},"share"))))},K.Body=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=function(e){var t=new Date(e||(new Date).getTime()).toISOString().substring(0,10).split("-"),a=Object(s.a)(t,3),n=a[0],r=a[1],l=a[2];return"".concat(l,"/").concat(r,"/").concat(n)},u=function(e){l(e.dataKey)};return r.a.createElement("main",null,r.a.createElement(y.a,{maxWidth:"lg"},r.a.createElement("section",{style:{width:"100%",height:330}},r.a.createElement(P.Consumer,null,function(e){var t=e.exams,a=e.summarize;return r.a.createElement(G.g,null,r.a.createElement(G.f,{margin:{top:100,right:30,left:0,bottom:-50},outerRadius:100,data:a(t)},r.a.createElement(G.c,null),r.a.createElement(G.b,{dataKey:"subject"}),r.a.createElement(G.d,{angle:55,domain:[0,100]}),t.map(function(e){var t=e.date,a=e.id,n="#"+Math.floor(16777215*Math.random()).toString(16);return r.a.createElement(G.e,{key:a,name:"exam ".concat(c(t)),dataKey:a,stroke:n,fill:n,fillOpacity:.6})}),r.a.createElement(G.a,{onClick:u})))}),r.a.createElement(D.a,{left:"0",right:"0",position:"absolute",justifyContent:"center",alignItems:"center",display:"flex",style:{bottom:16}},r.a.createElement(F.a,{variant:"contained",to:"/exam/add",component:o.b,size:"small"},r.a.createElement(w.a,null,"add"),"Lang Exam")))),!!a&&r.a.createElement(i.a,{to:"exam/edit/".concat(a)}))};var L=K,q=a(440),V=a(485),Y=a(477),$=a(478),Q=a(479),X=a(486),Z=a(480),ee=Object(N.a)(function(e){return Object(I.a)({selectEmpty:{marginTop:16},iconStyle:{color:"#efefef"},headInput:{color:"inherit",backgroundColor:"transparent",border:0,fontSize:"inherit",fontWeight:"inherit"}})}),te=function e(t){var a=t.idExam,l=Object(n.useContext)(z).skills;return r.a.createElement(P.Provider,{value:M(l)},r.a.createElement(e.Head,{idExam:a}),r.a.createElement("main",null,r.a.createElement(ae,{idExam:a})))},ae=function e(t){t.idExam;var a=Object(n.useContext)(P),l=a.exams,c=a.exams.length,o=a.commit,i=a.getSnapshot,u=a.stage,m=Object(n.useContext)(z).skills,d=r.a.useState("5"),f=Object(s.a)(d,2),E=f[0],v=f[1],b=["book","chrome_reader_mode","hearing","sms","create"],p=function(e,t,a){var n=u.tests,r=void 0===n?[]:n;if(e){var l=r.findIndex(function(e){return e.idTool===a});l>-1&&r[l].level!==e?(r[l].level=e,o({tests:Object(_.a)(r)})):o({tests:[].concat(Object(_.a)(r),[{idTool:a,idSkill:t,level:e}])})}},h=Object.keys(H).filter(function(e){return"number"===typeof H[e]});return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{square:!0,style:{flexGrow:1}},r.a.createElement(V.a,{value:E,onChange:function(e,t){t!==E&&v(t)},color:"inherit",variant:"fullWidth",centered:!0},m.map(function(e,t){return r.a.createElement(Y.a,{key:e.id,label:e.name,value:e.id,icon:r.a.createElement(w.a,{color:"action",fontSize:"small"},b[t])})}))),r.a.createElement($.a,null,function(e){var t=m.find(function(t){return t.id===e});if("undefined"===typeof t||!u)return{tools:[],id:"",name:"",description:""};var a=i(u.id,l);return t.tools.forEach(function(t){var n=u.tests?u.tests.find(function(a){return a.idSkill===e&&a.idTool===t.id}):null,r=H.BREAKTHROUGH;n?r=n.level:a[e]&&a[e][t.id]&&(r=a[e][t.id]),t.level=r}),t}(E).tools.map(function(t,a){return r.a.createElement(e.Test,{onChange:p,idSkill:E,idTool:t.id,toolName:(n=E,l=t.id,(m.find(function(e){return e.id===n})||{tools:[]}).tools.find(function(e){return e.id===l})||{}).description,level:t.level,key:"".concat(t.id,"_").concat(c,"_test"),levels:h});var n,l})))};ae.Test=function(e){var t=e.toolName,a=e.levels,l=e.level,c=e.onChange,o=e.idSkill,i=e.idTool,u=Object(n.useState)(l),m=Object(s.a)(u,2),d=m[0],f=m[1],E=function(e){var t=e.target,a=Number(t.value||d);f(a),c(a,o,i)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{alignItems:"flex-start"},r.a.createElement(D.a,{display:"flex",flexDirection:"row",flexGrow:1,flexWrap:"wrap"},r.a.createElement(k.a,{style:{width:"100%"}},t),a.map(function(e,t){return r.a.createElement(X.a,{key:"_".concat(t),title:e,icon:r.a.createElement(w.a,{color:"action",fontSize:"small"},"star_border"),checkedIcon:r.a.createElement(w.a,{style:{color:"#ea9f1d"},fontSize:"small"},"star"),checked:d>=t,value:t,onChange:E})}),r.a.createElement(k.a,{variant:"overline",color:"textSecondary",style:{width:"100%"}},H[d]))),r.a.createElement(Z.a,{variant:"fullWidth",component:"li"}))},te.Head=function(e){var t=e.idExam,a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],u=l[1],m=ee(),d=Object(n.useContext)(P),f=d.exams,E=d.remove,v=d.commit,b=d.reset,p=d.push,h=d.stage;Object(n.useEffect)(function(){if("undefined"===typeof t&&h.id)v({id:"".concat((new Date).getTime()),tests:[]});else if(t&&h.id!==t){var e=f.find(function(e){var a=e.id;return t===a})||{};v(e)}return function(){b()}},[f]);return r.a.createElement(j.a,{position:"fixed",color:"inherit"},r.a.createElement(S.a,null,r.a.createElement(C.a,{style:{marginRight:"4px"},component:o.b,to:"/"},r.a.createElement(w.a,{className:m.iconStyle},"keyboard_backspace")),r.a.createElement(x.a,null,r.a.createElement(w.a,null,"insert_chart")),!!h&&r.a.createElement(k.a,{style:{flexGrow:1,color:"#efefef",paddingLeft:"4px"},variant:"subtitle2"},"Exam of",r.a.createElement("input",{className:m.headInput,type:"date",value:function(e){var t=new Date(e).toISOString().substring(0,10).split("-"),a=Object(s.a)(t,3),n=a[0],r=a[1],l=a[2];return"".concat(n,"-").concat(r,"-").concat(l)}(h.date||(new Date).getTime()),onChange:function(e){var t=e.target.value.split("-"),a=Object(s.a)(t,3),n=a[0],r=a[1],l=a[2],c=new Date(Number(n),Number(r)-1,Number(l)).getTime();v({date:c})}})),!!t&&r.a.createElement(T.a,{color:"default","aria-label":"Open drawer",edge:"end",onClick:function(){E(t),b(),u(!0)}},r.a.createElement(w.a,{className:m.iconStyle},"delete_forever")),!t&&r.a.createElement(T.a,{color:"default","aria-label":"Open drawer",edge:"end",onClick:function(){p().then(function(){return u(!0)})}},r.a.createElement(w.a,{className:m.iconStyle},"done")),c&&r.a.createElement(i.a,{to:"/"})))};var ne=te,re=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement("div",{className:"App"},r.a.createElement(z.Provider,{value:W()},r.a.createElement(d.Provider,{value:m()},r.a.createElement(d.Consumer,null,function(e){var t=e.idUser;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,render:function(){return r.a.createElement(i.a,{to:"/exam-analysis"})}}),r.a.createElement(i.b,{path:"/user-profile",exact:!0,render:function(){return r.a.createElement(B,{idUser:t})}}),r.a.createElement(i.b,{path:"/exam-analysis",exact:!0,render:function(){return r.a.createElement(L,{idUser:t})}}),r.a.createElement(i.b,{path:"/qr-code/url/:url",render:function(e){var t=e.match.params;return r.a.createElement(O,{url:"".concat(decodeURIComponent(t.url))})}}),r.a.createElement(i.b,{path:"/exam/add",component:ne}),r.a.createElement(i.b,{path:"/exam/edit/:id",render:function(e){var t=e.match.params;return r.a.createElement(ne,{idExam:t.id})}}))):r.a.createElement(f.a,null))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[234,1,2]]]);
//# sourceMappingURL=main.e2e750ce.chunk.js.map